{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, withModifiers as _withModifiers, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, createBlock as _createBlock, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"user-management-container\"\n};\nconst _hoisted_2 = [\"title\"];\nconst _hoisted_3 = {\n  key: 1,\n  class: \"text-muted\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_switch = _resolveComponent(\"el-switch\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _component_el_input_number = _resolveComponent(\"el-input-number\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[25] || (_cache[25] = _createElementVNode(\"h2\", null, \"用户列表\", -1)), _createVNode(_component_el_card, {\n    shadow: \"never\",\n    class: \"search-card\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      inline: true,\n      model: $data.searchParams,\n      onSubmit: _withModifiers($options.handleSearch, [\"prevent\"]),\n      class: \"search-form\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"用户ID\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.searchParams.userId,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchParams.userId = $event),\n          placeholder: \"用户ID (模糊)\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"用户帐号\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.searchParams.username,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchParams.username = $event),\n          placeholder: \"登入帐号 (模糊)\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"用户昵称\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.searchParams.nickname,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.searchParams.nickname = $event),\n          placeholder: \"昵称 (精确)\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"自身邀请码\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.searchParams.inviteCode,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.searchParams.inviteCode = $event),\n          placeholder: \"自身邀请码 (精确)\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"推荐人邀请码\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.searchParams.referrerCode,\n          \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.searchParams.referrerCode = $event),\n          placeholder: \"推荐人邀请码 (精确)\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"最新登入IP\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.searchParams.lastLoginIp,\n          \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.searchParams.lastLoginIp = $event),\n          placeholder: \"登入IP (精确)\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"状态\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $data.searchParams.status,\n          \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.searchParams.status = $event),\n          placeholder: \"选择状态\",\n          clearable: \"\"\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_option, {\n            label: \"正常 (active)\",\n            value: \"active\"\n          }), _createVNode(_component_el_option, {\n            label: \"禁用 (banned)\",\n            value: \"banned\"\n          })]),\n          _: 1\n        }, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"注册时间\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n          modelValue: $data.searchParams.dateRange,\n          \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.searchParams.dateRange = $event),\n          type: \"datetimerange\",\n          \"range-separator\": \"至\",\n          \"start-placeholder\": \"开始时间\",\n          \"end-placeholder\": \"结束时间\",\n          \"value-format\": \"YYYY-MM-DDTHH:mm:ssZ\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"最新活动时间\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n          modelValue: $data.searchParams.activityDateRange,\n          \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.searchParams.activityDateRange = $event),\n          type: \"datetimerange\",\n          \"range-separator\": \"至\",\n          \"start-placeholder\": \"开始时间\",\n          \"end-placeholder\": \"结束时间\",\n          \"value-format\": \"YYYY-MM-DDTHH:mm:ssZ\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $options.handleSearch\n        }, {\n          default: _withCtx(() => [...(_cache[18] || (_cache[18] = [_createTextVNode(\"查询\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\"])]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"model\", \"onSubmit\"])]),\n    _: 1\n  }), _withDirectives((_openBlock(), _createBlock(_component_el_card, {\n    shadow: \"never\",\n    class: \"table-card\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table, {\n      data: $data.tableData,\n      style: {\n        \"width\": \"100%\"\n      },\n      \"cell-style\": {\n        paddingTop: '8px',\n        paddingBottom: '8px'\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"user_id\",\n        label: \"用户ID\",\n        width: \"120\",\n        fixed: \"left\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"username\",\n        label: \"用户帐号\",\n        width: \"150\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"balance\",\n        label: \"平台余额 (USDT)\",\n        width: \"150\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatCurrency(scope.row.balance)), 1)]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"nickname\",\n        label: \"用户昵称\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"level\",\n        label: \"用户等级\",\n        width: \"100\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"invite_code\",\n        label: \"自身邀请码\",\n        width: \"130\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          link: \"\",\n          onClick: $event => $options.handleViewReferrals(scope.row)\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.invite_code), 1)]),\n          _: 2\n        }, 1032, [\"onClick\"])]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"referrer_code\",\n        label: \"推荐人邀请码\",\n        width: \"130\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"last_login_ip\",\n        label: \"最新登入IP\",\n        width: \"150\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"last_activity_at\",\n        label: \"最新活动时间\",\n        width: \"180\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatDateTime(scope.row.last_activity_at)), 1)]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"user_agent\",\n        label: \"User Agent\",\n        \"min-width\": \"250\"\n      }, {\n        default: _withCtx(scope => [scope.row.user_agent ? (_openBlock(), _createElementBlock(\"span\", {\n          key: 0,\n          title: scope.row.user_agent\n        }, _toDisplayString(scope.row.user_agent), 9, _hoisted_2)) : (_openBlock(), _createElementBlock(\"span\", _hoisted_3, \"-\"))]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"max_streak\",\n        label: \"最高連胜\",\n        width: \"100\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"created_at\",\n        label: \"注册时间\",\n        width: \"180\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatDateTime(scope.row.created_at)), 1)]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"status\",\n        label: \"禁用投注\",\n        width: \"100\",\n        fixed: \"right\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_switch, {\n          modelValue: scope.row.status,\n          \"onUpdate:modelValue\": $event => scope.row.status = $event,\n          \"active-value\": \"banned\",\n          \"inactive-value\": \"active\",\n          \"active-text\": \"禁用\",\n          \"inactive-text\": \"正常\",\n          \"inline-prompt\": \"\",\n          style: {\n            \"--el-switch-on-color\": \"#ff4949\",\n            \"--el-switch-off-color\": \"#13ce66\"\n          },\n          onChange: $event => $options.handleStatusChange(scope.row)\n        }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"onChange\"])]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"100\",\n        fixed: \"right\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          link: \"\",\n          onClick: $event => $options.handleEdit(scope.row)\n        }, {\n          default: _withCtx(() => [...(_cache[19] || (_cache[19] = [_createTextVNode(\" 编辑 \", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\"])]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"data\"]), _createVNode(_component_el_pagination, {\n      class: \"pagination-container\",\n      layout: \"total, sizes, prev, pager, next, jumper\",\n      total: $data.totalItems,\n      \"current-page\": $data.pagination.page,\n      \"onUpdate:currentPage\": _cache[9] || (_cache[9] = $event => $data.pagination.page = $event),\n      \"page-size\": $data.pagination.limit,\n      \"onUpdate:pageSize\": _cache[10] || (_cache[10] = $event => $data.pagination.limit = $event),\n      \"page-sizes\": [10, 20, 50, 100],\n      onSizeChange: $options.handleSizeChange,\n      onCurrentChange: $options.handlePageChange\n    }, null, 8, [\"total\", \"current-page\", \"page-size\", \"onSizeChange\", \"onCurrentChange\"])]),\n    _: 1\n  })), [[_directive_loading, $data.loading]]), _createVNode(_component_el_dialog, {\n    modelValue: $data.editDialogVisible,\n    \"onUpdate:modelValue\": _cache[16] || (_cache[16] = $event => $data.editDialogVisible = $event),\n    title: \"编辑用户\",\n    width: \"600px\",\n    \"close-on-click-modal\": false\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_el_button, {\n      onClick: _cache[15] || (_cache[15] = $event => $data.editDialogVisible = false)\n    }, {\n      default: _withCtx(() => [...(_cache[23] || (_cache[23] = [_createTextVNode(\"取消\", -1)]))]),\n      _: 1\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.handleSubmitEdit,\n      loading: $data.editLoading\n    }, {\n      default: _withCtx(() => [...(_cache[24] || (_cache[24] = [_createTextVNode(\"确认储存\", -1)]))]),\n      _: 1\n    }, 8, [\"onClick\", \"loading\"])]),\n    default: _withCtx(() => [$data.editForm.currentUser ? (_openBlock(), _createBlock(_component_el_form, {\n      key: 0,\n      ref: \"editFormRef\",\n      model: $data.editForm,\n      rules: $data.editFormRules,\n      \"label-width\": \"120px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"用户ID\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          value: $data.editForm.currentUser.user_id,\n          disabled: \"\"\n        }, null, 8, [\"value\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"用户帐号\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          value: $data.editForm.currentUser.username,\n          disabled: \"\"\n        }, null, 8, [\"value\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"平台余额 (USDT)\",\n        prop: \"balance\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input_number, {\n          modelValue: $data.editForm.balance,\n          \"onUpdate:modelValue\": _cache[11] || (_cache[11] = $event => $data.editForm.balance = $event),\n          min: 0,\n          precision: 6,\n          placeholder: \"用户平台余额\"\n        }, null, 8, [\"modelValue\"]), _cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n          class: \"form-tip\"\n        }, \"(警告：手动修改余额不会留下金流记录)\", -1))]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"用户昵称\",\n        prop: \"nickname\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.editForm.nickname,\n          \"onUpdate:modelValue\": _cache[12] || (_cache[12] = $event => $data.editForm.nickname = $event),\n          placeholder: \"请输入用户昵称\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"用户等级\",\n        prop: \"level\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input_number, {\n          modelValue: $data.editForm.level,\n          \"onUpdate:modelValue\": _cache[13] || (_cache[13] = $event => $data.editForm.level = $event),\n          min: 1,\n          placeholder: \"请输入用户等级\"\n        }, null, 8, [\"modelValue\"]), _cache[21] || (_cache[21] = _createElementVNode(\"div\", {\n          class: \"form-tip\"\n        }, \"(注意：手动调整等级不会派发升级奖金)\", -1))]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"推荐人邀请码\",\n        prop: \"referrer_code\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.editForm.referrer_code,\n          \"onUpdate:modelValue\": _cache[14] || (_cache[14] = $event => $data.editForm.referrer_code = $event),\n          placeholder: \"(留空可清除推薦人)\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"]), _cache[22] || (_cache[22] = _createElementVNode(\"div\", {\n          class: \"form-tip\"\n        }, \"(必须是已存在的其他用户的「自身邀请码」)\", -1))]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"model\", \"rules\"])) : _createCommentVNode(\"\", true)]),\n    _: 1\n  }, 8, [\"modelValue\"]), _createVNode(_component_el_dialog, {\n    modelValue: $data.referralDialogVisible,\n    \"onUpdate:modelValue\": _cache[17] || (_cache[17] = $event => $data.referralDialogVisible = $event),\n    title: `查看 ${$data.referralData.inviteCode} 的推薦列表`,\n    width: \"700px\",\n    \"close-on-click-modal\": false\n  }, {\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_table, {\n      data: $data.referralData.list\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"user_id\",\n        label: \"用户ID\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"nickname\",\n        label: \"昵称\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"created_at\",\n        label: \"注册时间\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatDateTime(scope.row.created_at)), 1)]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"data\"])), [[_directive_loading, $data.referralData.loading]])]),\n    _: 1\n  }, 8, [\"modelValue\", \"title\"])]);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}