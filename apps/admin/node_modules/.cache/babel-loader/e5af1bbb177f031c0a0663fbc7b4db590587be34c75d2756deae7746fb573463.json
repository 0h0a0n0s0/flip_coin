{"ast":null,"code":"export default {\n  name: 'LoginView',\n  data() {\n    return {\n      loading: false,\n      loginForm: {\n        username: 'admin',\n        password: '' // (★★★ 错误修复：移除寫死的密码，改为空字串 ★★★)\n      }\n    };\n  },\n  methods: {\n    async handleLogin() {\n      if (this.loading) return;\n      this.loading = true;\n\n      // (★★★ 新增：检查密码是否为空 ★★★)\n      if (!this.loginForm.username || !this.loginForm.password) {\n        // (我们使用 ElMessage，因为 request.js 拦截器不会拦截*未发出*的请求)\n        this.$message.error('帐号和密码不能为空');\n        this.loading = false;\n        return;\n      }\n      try {\n        const responseData = await this.$api.login(this.loginForm);\n        if (responseData && responseData.token) {\n          localStorage.setItem('admin_token', responseData.token);\n          this.$router.push('/dashboard');\n        } else {\n          console.error('登入失败，但未拋出错误。');\n        }\n      } catch (error) {\n        console.error('Login failed (handled by interceptor):', error);\n      } finally {\n        this.loading = false;\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}