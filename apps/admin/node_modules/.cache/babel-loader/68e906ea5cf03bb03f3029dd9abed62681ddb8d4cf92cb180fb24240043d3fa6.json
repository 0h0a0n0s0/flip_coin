{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, resolveDirective as _resolveDirective, openBlock as _openBlock, createBlock as _createBlock, withDirectives as _withDirectives, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"same-ip-monitor\"\n};\nconst _hoisted_2 = {\n  class: \"dialog-ip\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[8] || (_cache[8] = _createElementVNode(\"h2\", null, \"同 IP 风控监控\", -1)), _createVNode(_component_el_card, {\n    shadow: \"never\",\n    class: \"info-card\"\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"p\", null, [_cache[2] || (_cache[2] = _createTextVNode(\" 当前风控阈值： \", -1)), _createElementVNode(\"strong\", null, _toDisplayString($data.threshold), 1), _cache[3] || (_cache[3] = _createElementVNode(\"span\", {\n      class: \"note\"\n    }, \"（超过该数量的同 IP 账号会触发自动封锁）\", -1))]), _createVNode(_component_el_button, {\n      type: \"primary\",\n      link: \"\",\n      onClick: _cache[0] || (_cache[0] = $event => _ctx.$router.push('/settings/game-parameters'))\n    }, {\n      default: _withCtx(() => [...(_cache[4] || (_cache[4] = [_createTextVNode(\" 前往系统参数设定 \", -1)]))]),\n      _: 1\n    })]),\n    _: 1\n  }), _withDirectives((_openBlock(), _createBlock(_component_el_card, {\n    shadow: \"never\",\n    class: \"table-card\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table, {\n      data: $data.ipList,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"ip_address\",\n        label: \"IP 地址\",\n        width: \"180\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"total_count\",\n        label: \"总用户数\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"active_count\",\n        label: \"启用中\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"banned_count\",\n        label: \"已封锁\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"last_activity_at\",\n        label: \"最后活动时间\",\n        width: \"200\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatDateTime(scope.row.last_activity_at)), 1)]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"240\",\n        fixed: \"right\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          size: \"small\",\n          onClick: $event => $options.handleViewDetail(scope.row)\n        }, {\n          default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\"查看详情\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\"]), _createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"danger\",\n          onClick: $event => $options.handleBan(scope.row),\n          disabled: scope.row.banned_count === scope.row.total_count\n        }, {\n          default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\"一键封锁\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\", \"disabled\"]), _createVNode(_component_el_button, {\n          size: \"small\",\n          type: \"success\",\n          onClick: $event => $options.handleUnban(scope.row),\n          disabled: scope.row.active_count === scope.row.total_count\n        }, {\n          default: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createTextVNode(\"一键解禁\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\", \"disabled\"])]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"data\"])]),\n    _: 1\n  })), [[_directive_loading, $data.loading]]), _createVNode(_component_el_dialog, {\n    modelValue: $data.detailDialog.visible,\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.detailDialog.visible = $event),\n    title: \"IP 用户详情\",\n    width: \"800px\",\n    \"close-on-click-modal\": false\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"p\", _hoisted_2, \"IP：\" + _toDisplayString($data.detailDialog.ip), 1), _withDirectives((_openBlock(), _createBlock(_component_el_table, {\n      data: $data.detailDialog.users,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"user_id\",\n        label: \"用户ID\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"username\",\n        label: \"帐号\",\n        width: \"150\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"nickname\",\n        label: \"昵称\",\n        width: \"150\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"status\",\n        label: \"状态\",\n        width: \"100\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, {\n          type: scope.row.status === 'active' ? 'success' : 'danger'\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.status === 'active' ? '启用' : '封锁'), 1)]),\n          _: 2\n        }, 1032, [\"type\"])]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"last_activity_at\",\n        label: \"最后活动时间\",\n        width: \"200\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatDateTime(scope.row.last_activity_at)), 1)]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"data\"])), [[_directive_loading, $data.detailDialog.loading]])]),\n    _: 1\n  }, 8, [\"modelValue\"])]);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}