{"ast":null,"code":"import { jwtDecode } from 'jwt-decode';\n// (★★★ 新增 Money Icon ★★★)\nimport { DataLine, User, Coin, PieChart, Setting, Lock, Money } from '@element-plus/icons-vue';\nimport { ElMessage } from 'element-plus';\nexport default {\n  name: 'LayoutView',\n  data() {\n    return {\n      username: 'N/A'\n    };\n  },\n  computed: {\n    activeMenu() {\n      return this.$route.path;\n    }\n  },\n  // (★★★ 新增 Money Icon ★★★)\n  components: {\n    DataLine,\n    User,\n    Coin,\n    PieChart,\n    Setting,\n    Lock,\n    Money\n  },\n  created() {\n    this.decodeToken();\n  },\n  methods: {\n    decodeToken() {\n      try {\n        const token = localStorage.getItem('admin_token');\n        if (token) {\n          const decoded = jwtDecode(token);\n          this.username = decoded.username;\n        } else {\n          this.handleLogout(true);\n        }\n      } catch (error) {\n        console.error('Failed to decode token:', error);\n        ElMessage.error('Token 验证失败，请重新登入。');\n        this.handleLogout(true);\n      }\n    },\n    handleLogout(isError = false) {\n      localStorage.removeItem('admin_token');\n      if (this.$permissions) {\n        this.$permissions.clearPermissions();\n      }\n      this.$router.push('/login');\n      if (!isError) {\n        ElMessage.success('登出成功');\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}