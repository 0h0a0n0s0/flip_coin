{"ast":null,"code":"/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport Model from '../../model/Model.js';\nimport SeriesModel from '../../model/Series.js';\nimport createGraphFromNodeEdge from '../helper/createGraphFromNodeEdge.js';\nimport { createTooltipMarkup } from '../../component/tooltip/tooltipMarkup.js';\nimport LegendVisualProvider from '../../visual/LegendVisualProvider.js';\nimport * as zrUtil from 'zrender/lib/core/util.js';\nvar ChordSeriesModel = /** @class */function (_super) {\n  __extends(ChordSeriesModel, _super);\n  function ChordSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.type = ChordSeriesModel.type;\n    return _this;\n  }\n  ChordSeriesModel.prototype.init = function (option) {\n    _super.prototype.init.apply(this, arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n    // Enable legend selection for each data item\n    this.legendVisualProvider = new LegendVisualProvider(zrUtil.bind(this.getData, this), zrUtil.bind(this.getRawData, this));\n  };\n  ChordSeriesModel.prototype.mergeOption = function (option) {\n    _super.prototype.mergeOption.apply(this, arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n  };\n  ChordSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    if (nodes && edges) {\n      var graph = createGraphFromNodeEdge(nodes, edges, this, true, beforeLink);\n      return graph.data;\n    }\n    function beforeLink(nodeData, edgeData) {\n      // TODO Inherit resolveParentPath by default in Model#getModel?\n      var oldGetModel = Model.prototype.getModel;\n      function newGetModel(path, parentModel) {\n        var model = oldGetModel.call(this, path, parentModel);\n        model.resolveParentPath = resolveParentPath;\n        return model;\n      }\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.resolveParentPath = resolveParentPath;\n        model.getModel = newGetModel;\n        return model;\n      });\n      function resolveParentPath(pathArr) {\n        if (pathArr && (pathArr[0] === 'label' || pathArr[1] === 'label')) {\n          var newPathArr = pathArr.slice();\n          if (pathArr[0] === 'label') {\n            newPathArr[0] = 'edgeLabel';\n          } else if (pathArr[1] === 'label') {\n            newPathArr[1] = 'edgeLabel';\n          }\n          return newPathArr;\n        }\n        return pathArr;\n      }\n    }\n  };\n  ChordSeriesModel.prototype.getGraph = function () {\n    return this.getData().graph;\n  };\n  ChordSeriesModel.prototype.getEdgeData = function () {\n    return this.getGraph().edgeData;\n  };\n  ChordSeriesModel.prototype.formatTooltip = function (dataIndex, multipleSeries, dataType) {\n    var params = this.getDataParams(dataIndex, dataType);\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var nameArr = [];\n      sourceName != null && nameArr.push(sourceName);\n      targetName != null && nameArr.push(targetName);\n      return createTooltipMarkup('nameValue', {\n        name: nameArr.join(' > '),\n        value: params.value,\n        noValue: params.value == null\n      });\n    }\n    // dataType === 'node' or empty\n    return createTooltipMarkup('nameValue', {\n      name: params.name,\n      value: params.value,\n      noValue: params.value == null\n    });\n  };\n  ChordSeriesModel.prototype.getDataParams = function (dataIndex, dataType) {\n    var params = _super.prototype.getDataParams.call(this, dataIndex, dataType);\n    if (dataType === 'node') {\n      var nodeData = this.getData();\n      var node = this.getGraph().getNodeByIndex(dataIndex);\n      // Set name if not already set\n      if (params.name == null) {\n        params.name = nodeData.getName(dataIndex);\n      }\n      // Set value if not already set\n      if (params.value == null) {\n        var nodeValue = node.getLayout().value;\n        params.value = nodeValue;\n      }\n    }\n    return params;\n  };\n  ChordSeriesModel.type = 'series.chord';\n  ChordSeriesModel.defaultOption = {\n    // zlevel: 0,\n    z: 2,\n    coordinateSystem: 'none',\n    legendHoverLink: true,\n    colorBy: 'data',\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n    width: null,\n    height: null,\n    center: ['50%', '50%'],\n    radius: ['70%', '80%'],\n    clockwise: true,\n    startAngle: 90,\n    endAngle: 'auto',\n    minAngle: 0,\n    padAngle: 3,\n    itemStyle: {\n      borderRadius: [0, 0, 5, 5]\n    },\n    lineStyle: {\n      width: 0,\n      color: 'source',\n      opacity: 0.2\n    },\n    label: {\n      show: true,\n      position: 'outside',\n      distance: 5\n    },\n    emphasis: {\n      focus: 'adjacency',\n      lineStyle: {\n        opacity: 0.5\n      }\n    }\n  };\n  return ChordSeriesModel;\n}(SeriesModel);\nexport default ChordSeriesModel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}