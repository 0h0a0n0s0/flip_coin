{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, withModifiers as _withModifiers, toDisplayString as _toDisplayString, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"audit-logs-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_pagination = _resolveComponent(\"el-pagination\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[6] || (_cache[6] = _createElementVNode(\"h2\", null, \"操作稽核日志\", -1)), _cache[7] || (_cache[7] = _createElementVNode(\"p\", {\n    class: \"page-description\"\n  }, [_createTextVNode(\" 查看所有后台操作记录，包含管理员、动作、资源与时间。 \"), _createElementVNode(\"br\"), _createElementVNode(\"strong\", null, \"资源（Resource）\"), _createTextVNode(\"：表示被操作的对象类型，例如「用户」、「平台钱包」、「提款」等。 \"), _createElementVNode(\"br\"), _createElementVNode(\"strong\", null, \"资源ID（Resource ID）\"), _createTextVNode(\"：表示被操作的具体对象ID，例如用户ID、钱包ID、提款单ID等。 \")], -1)), _createVNode(_component_el_card, {\n    shadow: \"never\",\n    class: \"search-card\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form, {\n      inline: true,\n      model: $data.searchParams,\n      onSubmit: _withModifiers($options.handleSearch, [\"prevent\"]),\n      class: \"search-form\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"管理员帐号\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.searchParams.adminUsername,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.searchParams.adminUsername = $event),\n          placeholder: \"帐号 (模糊)\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"动作\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $data.searchParams.action,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchParams.action = $event),\n          placeholder: \"选择动作\",\n          clearable: \"\"\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.availableActions, action => {\n            return _openBlock(), _createBlock(_component_el_option, {\n              key: action.value,\n              label: action.label,\n              value: action.value\n            }, null, 8, [\"label\", \"value\"]);\n          }), 128))]),\n          _: 1\n        }, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"时间范围\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_date_picker, {\n          modelValue: $data.searchParams.dateRange,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.searchParams.dateRange = $event),\n          type: \"datetimerange\",\n          \"range-separator\": \"至\",\n          \"start-placeholder\": \"开始时间\",\n          \"end-placeholder\": \"结束时间\",\n          \"unlink-panels\": \"\",\n          clearable: \"\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, null, {\n        default: _withCtx(() => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          onClick: $options.handleSearch\n        }, {\n          default: _withCtx(() => [...(_cache[5] || (_cache[5] = [_createTextVNode(\"查询\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\"])]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"model\", \"onSubmit\"])]),\n    _: 1\n  }), _withDirectives((_openBlock(), _createBlock(_component_el_card, {\n    shadow: \"never\",\n    class: \"table-card\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_table, {\n      data: $data.tableData,\n      style: {\n        \"width\": \"100%\"\n      }\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"admin_username\",\n        label: \"管理员\",\n        width: \"150\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"action\",\n        label: \"动作\",\n        width: \"160\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatAction(scope.row.action)), 1)]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"resource\",\n        label: \"被操作对象\",\n        width: \"160\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatResource(scope.row.resource)), 1)]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"resource_id\",\n        label: \"被操作对象ID\",\n        width: \"120\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"description\",\n        label: \"描述\",\n        \"min-width\": \"220\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"ip_address\",\n        label: \"IP\",\n        width: \"140\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"user_agent\",\n        label: \"User Agent\",\n        \"min-width\": \"220\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"created_at\",\n        label: \"时间\",\n        width: \"180\",\n        fixed: \"right\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatDate(scope.row.created_at)), 1)]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"data\"]), _createVNode(_component_el_pagination, {\n      class: \"pagination-container\",\n      layout: \"total, sizes, prev, pager, next, jumper\",\n      total: $data.totalItems,\n      \"current-page\": $data.pagination.page,\n      \"onUpdate:currentPage\": _cache[3] || (_cache[3] = $event => $data.pagination.page = $event),\n      \"page-size\": $data.pagination.limit,\n      \"onUpdate:pageSize\": _cache[4] || (_cache[4] = $event => $data.pagination.limit = $event),\n      \"page-sizes\": [10, 20, 50, 100],\n      onSizeChange: $options.handleSizeChange,\n      onCurrentChange: $options.handlePageChange\n    }, null, 8, [\"total\", \"current-page\", \"page-size\", \"onSizeChange\", \"onCurrentChange\"])]),\n    _: 1\n  })), [[_directive_loading, $data.loading]])]);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}