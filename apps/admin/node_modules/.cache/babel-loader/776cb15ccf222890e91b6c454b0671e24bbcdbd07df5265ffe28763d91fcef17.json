{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, resolveDirective as _resolveDirective, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"account-management-container\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_table_column = _resolveComponent(\"el-table-column\");\n  const _component_el_tag = _resolveComponent(\"el-tag\");\n  const _component_el_table = _resolveComponent(\"el-table\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_radio = _resolveComponent(\"el-radio\");\n  const _component_el_radio_group = _resolveComponent(\"el-radio-group\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_dialog = _resolveComponent(\"el-dialog\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[15] || (_cache[15] = _createElementVNode(\"h2\", null, \"帐号管理\", -1)), _cache[16] || (_cache[16] = _createElementVNode(\"p\", {\n    class: \"page-description\"\n  }, \"管理可以登入後台的管理员帐号。\", -1)), _createVNode(_component_el_card, {\n    shadow: \"never\",\n    class: \"action-card\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.handleAdd\n    }, {\n      default: _withCtx(() => [...(_cache[6] || (_cache[6] = [_createTextVNode(\"新增帐号\", -1)]))]),\n      _: 1\n    }, 8, [\"onClick\"])]),\n    _: 1\n  }), _withDirectives((_openBlock(), _createBlock(_component_el_card, {\n    shadow: \"never\",\n    class: \"table-card\"\n  }, {\n    header: _withCtx(() => [...(_cache[7] || (_cache[7] = [_createElementVNode(\"div\", null, \"帐号列表\", -1)]))]),\n    default: _withCtx(() => [_createVNode(_component_el_table, {\n      data: $data.tableData,\n      style: {\n        \"width\": \"100%\"\n      },\n      \"row-key\": \"id\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_table_column, {\n        prop: \"id\",\n        label: \"ID\",\n        width: \"80\",\n        sortable: \"\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"username\",\n        label: \"登入帐号\",\n        width: \"200\"\n      }), _createVNode(_component_el_table_column, {\n        prop: \"role_name\",\n        label: \"角色 (权限组)\",\n        width: \"150\"\n      }, {\n        default: _withCtx(scope => [scope.row.role_id ? (_openBlock(), _createBlock(_component_el_tag, {\n          key: 0\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.role_name || `ID: ${scope.row.role_id}`), 1)]),\n          _: 2\n        }, 1024)) : (_openBlock(), _createBlock(_component_el_tag, {\n          key: 1,\n          type: \"info\"\n        }, {\n          default: _withCtx(() => [...(_cache[8] || (_cache[8] = [_createTextVNode(\"未分配\", -1)]))]),\n          _: 1\n        }))]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"status\",\n        label: \"狀态\",\n        width: \"120\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_tag, {\n          type: scope.row.status === 'active' ? 'success' : 'danger'\n        }, {\n          default: _withCtx(() => [_createTextVNode(_toDisplayString(scope.row.status === 'active' ? '启用' : '禁用'), 1)]),\n          _: 2\n        }, 1032, [\"type\"])]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        prop: \"created_at\",\n        label: \"建立时间\"\n      }, {\n        default: _withCtx(scope => [_createTextVNode(_toDisplayString($options.formatDateTime(scope.row.created_at)), 1)]),\n        _: 1\n      }), _createVNode(_component_el_table_column, {\n        label: \"操作\",\n        width: \"150\",\n        fixed: \"right\"\n      }, {\n        default: _withCtx(scope => [_createVNode(_component_el_button, {\n          type: \"primary\",\n          link: \"\",\n          onClick: $event => $options.handleEdit(scope.row)\n        }, {\n          default: _withCtx(() => [...(_cache[9] || (_cache[9] = [_createTextVNode(\"编辑\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\"]), _createVNode(_component_el_button, {\n          type: \"danger\",\n          link: \"\",\n          onClick: $event => $options.handleDelete(scope.row),\n          disabled: scope.row.id === 1 || scope.row.id === $data.currentUserId\n        }, {\n          default: _withCtx(() => [...(_cache[10] || (_cache[10] = [_createTextVNode(\"删除\", -1)]))]),\n          _: 1\n        }, 8, [\"onClick\", \"disabled\"])]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"data\"])]),\n    _: 1\n  })), [[_directive_loading, $data.loading]]), _createVNode(_component_el_dialog, {\n    modelValue: $data.dialogVisible,\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.dialogVisible = $event),\n    title: $data.dialogTitle,\n    width: \"600px\",\n    \"close-on-click-modal\": false\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_el_button, {\n      onClick: _cache[4] || (_cache[4] = $event => $data.dialogVisible = false)\n    }, {\n      default: _withCtx(() => [...(_cache[13] || (_cache[13] = [_createTextVNode(\"取消\", -1)]))]),\n      _: 1\n    }), _createVNode(_component_el_button, {\n      type: \"primary\",\n      onClick: $options.handleSubmit,\n      loading: $data.submitLoading\n    }, {\n      default: _withCtx(() => [...(_cache[14] || (_cache[14] = [_createTextVNode(\"确认\", -1)]))]),\n      _: 1\n    }, 8, [\"onClick\", \"loading\"])]),\n    default: _withCtx(() => [_withDirectives((_openBlock(), _createBlock(_component_el_form, {\n      ref: \"accountFormRef\",\n      model: $data.accountForm,\n      rules: $data.formRules,\n      \"label-width\": \"100px\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        label: \"登入帐号\",\n        prop: \"username\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.accountForm.username,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.accountForm.username = $event),\n          placeholder: \"请输入登入帐号\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"登入密码\",\n        prop: \"password\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $data.accountForm.password,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.accountForm.password = $event),\n          type: \"password\",\n          \"show-password\": \"\",\n          placeholder: \"留空表示不修改密码\"\n        }, null, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"角色\",\n        prop: \"role_id\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_select, {\n          modelValue: $data.accountForm.role_id,\n          \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.accountForm.role_id = $event),\n          placeholder: \"请选择权限组\",\n          style: {\n            \"width\": \"100%\"\n          }\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.rolesList, role => {\n            return _openBlock(), _createBlock(_component_el_option, {\n              key: role.id,\n              label: `${role.name} (ID: ${role.id})`,\n              value: role.id\n            }, null, 8, [\"label\", \"value\"]);\n          }), 128))]),\n          _: 1\n        }, 8, [\"modelValue\"])]),\n        _: 1\n      }), _createVNode(_component_el_form_item, {\n        label: \"狀态\",\n        prop: \"status\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_radio_group, {\n          modelValue: $data.accountForm.status,\n          \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.accountForm.status = $event)\n        }, {\n          default: _withCtx(() => [_createVNode(_component_el_radio, {\n            label: \"active\"\n          }, {\n            default: _withCtx(() => [...(_cache[11] || (_cache[11] = [_createTextVNode(\"启用\", -1)]))]),\n            _: 1\n          }), _createVNode(_component_el_radio, {\n            label: \"disabled\"\n          }, {\n            default: _withCtx(() => [...(_cache[12] || (_cache[12] = [_createTextVNode(\"禁用\", -1)]))]),\n            _: 1\n          })]),\n          _: 1\n        }, 8, [\"modelValue\"])]),\n        _: 1\n      })]),\n      _: 1\n    }, 8, [\"model\", \"rules\"])), [[_directive_loading, $data.dialogLoading]])]),\n    _: 1\n  }, 8, [\"modelValue\", \"title\"])]);\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}